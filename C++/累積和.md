# 累積和の扱い方を勉強しておこう！

累積和は競プロでも頻出の問題。  
簡単に書けるようになっておこう！

参考:[累積和を何も考えずに書けるようにする！](https://qiita.com/drken/items/56a6b68edef8fc605821)

## どんな時につかうのか

長さNの配列があって、区間[left, right)の範囲にある数の総和を求めるときなど。
実用例だと、去年8月から今年5月までの売上金額の総和を求めてほしい、とか  
この本の112ページから500ページまでの間に「アルゴリズム」という単語が何回出てきたか数えてほしい。とか

<br>
素直に計算すれば、

```
int sum = 0;
for (int i = left; i < right; ++i) {
  sum += a[i];
}
```

とすれば合計値を求めることはできる。  
しかしこの方法だと、クエリが飛んでくるたびに配列サイズNに比例する時間がかかる。  
短い配列なら問題ないが、例えば100000000000回こなしたりするとシャレにならない時間になる。  

この問題を解決してくれるのが累積和手法！！

## 累積和とは

そもそも累積和とは
- 配列 a<sub>0</sub>,a<sub>1</sub>,a<sub>2</sub>...a<sub>N-1</sub>に対して
- 配列 s<sub>0</sub>,s<sub>1</sub>,s<sub>2</sub>...s<sub>N-1</sub>,s<sub>N</sub>を以下のように定めたもの
  - s<sub>0</sub> = 0
  - s<sub>1</sub> = a<sub>0</sub>
  - s<sub<2</sub> = a<sub>0</sub> + a<sub>1</sub>
  - s<sub>3</sub> = a<sub>0</sub> + a<sub>1</sub> + a<sub>2</sub>
  - ...
  - s<sub>N</sub> = a<sub>0</sub> + a<sub>1</sub> + ... + a<sub>N-1</sub>
  
  //ここかくの結構めんどくさかった
  
  
  これを用いると、配列aの区間[4,15) の総和は、
  s<span>15</span> - s<span>4</span>  
  だけで求めることが出来る！

