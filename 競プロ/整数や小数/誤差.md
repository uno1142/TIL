# 誤差

double型やfloat型などで浮動点小数点数を扱うとき、誤差が出ることがある。  

## 型変換の誤差

double型をint型に変換するときなどで、例えば0.53を100倍して53という整数で扱おうとするとする。  
この際、なんらかの理由で0.00000000000001程度の誤差が発生し、それが53よりも小さかった場合は  
52.9999999999999というような形になり、int型にした際に小数点以下を切り捨ててしまい、52となってしまうことがある。  

※あくまでたとえなので0.53という数字で起きるかは今は考えない  

これを回避するにはいくつかの方法がある。  

1. int型に変換する前に0.5を足す
切り捨てで整数を用意するため、よほどのこと(0.5以上の誤差が出るなど)がない限りは変換時の誤差は無くなる。  

1. round(double型)で丸める
四捨五入する関数roundを使う。double型のうちに四捨五入しておけば問題ない。

1. 文字列として入力を受け取って小数点を消す
桁数がわかっているならこれも可能。

[AtCoder ABC169-C](https://atcoder.jp/contests/abc169/tasks/abc169_c)

ちなみにこれはコンテスト中にlong doubleでごり押しACした問題。あまりよくないし終了後にテストケース追加で対策されたので  
ちゃんと正攻法の解き方も覚えておこう。
